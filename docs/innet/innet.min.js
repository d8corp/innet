var innet=function(e,n){"use strict";function t(e){if(e._parent){var n=e._parent._children;n.splice(n.indexOf(e),1),e._parent=void 0}}function r(e){e.remove(),e instanceof Comment&&i(e)}function i(e){e._children.forEach(r),e._children=[]}function o(e){e instanceof Comment&&(e._children?(e.before.apply(e,e._children),e._children.forEach(o)):e._children=[])}function c(e,n,t){if(void 0===t&&(t=0),e._parent){var r=n._parent=e._parent;r._children.splice(r._children.indexOf(e)-t,0,n)}}function f(e,n){t(n),e instanceof Comment?(n._parent=e,e._children||(e._children=[]),e._children.push(n),e.before(n)):e.appendChild(n),o(n)}var u,a={},l={},d=function(){function e(){this.key=Symbol("ref")}return Object.defineProperty(e.prototype,"value",{get:function(){return a[this.key]},enumerable:!1,configurable:!0}),e}(),p=function(){function e(e){this.defaultValue=e,this.key=Symbol("context")}return e.prototype.provide=function(e,n){var t;return{children:n,context:(t={__proto__:l},t[this.key]=e,t)}},Object.defineProperty(e.prototype,"value",{get:function(){return this.key in l?l[this.key]:this.defaultValue},enumerable:!1,configurable:!0}),e}();function s(e,n){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];var i={};return e&&(i.type=e),n&&(i.props=n),t.length&&(i.children=t.flat(1/0)),i}function h(e){return"render"in(null==e?void 0:e.prototype)}function v(e){return"context"in e}function m(e,t,r){var i=e.props,o=e.type,c=e.children,f=document.createElement(o);if(i){var u=function(e){if("ref"===e)a[i.ref.key]=f;else{var t=i[e];if(e.startsWith("on"))f[e]=t;else{var r="$"===e[0],o=r||"_"===e[0],c=r||!o;o&&(e=e.slice(1)),"function"==typeof t?new n.Watch((function(n){var r=t(n);o&&(f[e]=r),c&&(void 0===r?f.removeAttribute(e):f.setAttribute(e,r))})):(o&&(f[e]=t),c&&void 0!==t&&f.setAttribute(e,t))}}};for(var l in i)u(l)}if(_(f,t),c)for(var d=0;d<c.length;d++)_(c[d],f,r,m)}function _(e,t,r,o){if(void 0===t&&(t=document.body),void 0===r&&(r=l),void 0===o&&(o=m),e instanceof Node)f(t,e);else if(Array.isArray(e))for(var c=0;c<e.length;c++)_(e[c],t,r,o);else if("object"==typeof e&&null!==e)if(v(e))_(e.children,t,e.context,o);else{var a=e,d=a.type,p=a.props,s=a.children;if(d){if("string"==typeof d)d in r?r[d](e,t,r,o):o(e,t,r);else if("function"==typeof d){var y=l;if(h(d)){l=r;var b=new d(p,s);"destructor"in b&&n.onClear((function(){return b.destructor()})),_(b.render(p,s),t,r,o),"mounted"in b&&b.mounted()}else{l=r;var C=u;u=[],_(d(p,s),t,r,o),u.forEach((function(e){return e()})),u=C}l=y}}else _(s,t,r,o)}else if("function"==typeof e){var g=document.createComment(e.name);f(t,g),new n.Watch((function(n){n&&i(g);var t=l;l=r,_(e(n),g,r,o),l=t}))}else"string"!=typeof e&&"number"!=typeof e||f(t,document.createTextNode(e+""));return t}return _.create=s,(e=_).Context=p,e.Ref=d,e.after=function(e,n){t(n),c(e,n),e.after(n),o(n)},e.append=f,e.before=function(e,n){t(n),c(e,n,1),e instanceof Comment?(e._children[0]||e).before(n):e.before(n),o(n)},e.create=s,e.dom=m,e.innet=_,e.isComponent=h,e.isContextNode=v,e.onMounted=function(e){u.push(e)},e.prepend=function(e,n){t(n),e instanceof Comment?(n._parent=e,e._children||(e._children=[]),e._children.unshift(n),(e._children[1]||e).before(n)):e.prepend(n),o(n)},e.remove=function(e){t(e),r(e)},e.removeChildrenElements=i,Object.defineProperty(e,"__esModule",{value:!0}),e}({},watchState);
